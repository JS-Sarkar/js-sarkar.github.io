[{"content":"There are many situations when we want to analyze large size of logs. Considering the logs are in CSV format. There are many tools that make this task easy. Still, it\u0026rsquo;s frustrating us with the amount of time it takes to process the data.\nTo overcome this I took the help of ELK (Docker) in a windows machine using WSL.\nRequirement  Docker in Windows WSL 2 (Ubuntu/Kali)  Installation ELK docker installation\nsudo docker pull sebp/elk Starting docker\ndocker run -p 5601:5601 -p 9200:9200 -p 5044:5044 -it -e LOGSTASH_START=0 -v {CSV file location in host}:{Mounting location} --name Container_Name sebp/elk  -e LOGSTASH_START=0: Start ELK without logstash -v {CSV file location in host}:{Mounting location}:Mount host drive to docker  Starting Docker with bash terminal\nOpen new terminal and enter below command:\ndocker exec -it Container_name /bin/bash Then upload CSV Logs using command below:\n/opt/logstash/bin/logstash -f logstash.conf  logstash.conf Example\ninput { file { path =\u0026gt; \u0026quot;/home/user/log.csv\u0026quot; start_position =\u0026gt; \u0026quot;beginning\u0026quot; # sincedb_path =\u0026gt; \u0026quot;/dev/null\u0026quot; } } filter { csv { separator =\u0026gt; \u0026quot;,\u0026quot; columns =\u0026gt; [\u0026quot;Sr\u0026quot;,\u0026quot;Day\u0026quot;,\u0026quot;Weekday\u0026quot;,\u0026quot;District\u0026quot;,\u0026quot;DistrictNumber\u0026quot;,\u0026quot;Mem\u0026quot;,\u0026quot;Abs\u0026quot;,\u0026quot;AttendancePercent\u0026quot;,\u0026quot;AbsentPercent\u0026quot;,\u0026quot;County\u0026quot; ] } } output { elasticsearch { hosts =\u0026gt; \u0026quot;http://localhost:9200\u0026quot; index =\u0026gt; \u0026quot;elk_test\u0026quot; } stdout {} } ","permalink":"https://js-sarkar.github.io/posts/dfir/csv2elk/","summary":"Steps to import cvs log file to elk dashboard.","title":"Import csv to elk"},{"content":"Setting up kali in WSL2\nRequirement To install WSL 2 on Windows 10 you need the following things:\n Windows 10 May 2020 (2004), Windows 10 May 2019 (1903), or Windows 10 November 2019 (1909) or later A computer with Hyper-V Virtualization support  Step to Enable WSL 2 in Windows 10  Enable WSL 2 Enable ‘Virtual Machine Platform’ Set WSL 2 as default Install a Kali Linux  Step 1: Enable WSL Run Powershell As Administator\ndism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart Step 2. Enable ‘Virtual Machine Platform’ To enable Virtual Machine Platform on Windows 10 (2004) open PowerShell as Administrator and run:\ndism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart OR\nEnable-WindowsOptionalFeature -Online -FeatureName VirtualMachinePlatform -NoRestart Step 3. Set WSL 2 as default Setting default version 2 for WSL, before installing any Linux destro\nwsl --set-default-version 2 Step 4. Install a distro Install kali from Microsoft store\nhttps://www.microsoft.com/en-us/p/kali-linux/9pkr34tncv07?activetab=pivot:overviewtab\nConvert Kali on WSL 1 to WSL 2\nIf you already have kali as WSL 1 you can convert it to version 2 by following command\nwsl.exe --set-version Kali-Linux 2 Starting Kali For First Time Search for Kali is search tab.\nUpdate and upgrade kali after configuring the password.\nsudo apt-get update \u0026amp;\u0026amp; upgrade Win-Kex If you want to have full kali desktop ewnvironment you can install Win-kex.\nWin-KeX provides a Kali Desktop Experience for Windows Subsystem for Linux (WSL 2)\nInstall Win-KeX\nsudo apt update \u0026amp;\u0026amp; sudo apt install kali-win-kex ","permalink":"https://js-sarkar.github.io/posts/dfir/wsl/","summary":"Installation process of WSL2 in Windows.","title":"Installing Windows Subsystem for Linux (WSL 2)"},{"content":"Installation  Kali Ubuntu Dockor - (My Preference)  Kali sudo apt-get install plaso Ubuntu To install Plaso from the GIFT Personal Package Archive (PPA)\nsudo add-apt-repository ppa:gift/stable Update and install Plaso:\nsudo apt-get update sudo apt-get install plaso-tools Docker Installing Docker\ndocker pull log2timeline/plaso Running Docker\ndocker run -t -i --entrypoint=/bin/bash -v /data\u0026lt;File Location of Host Machine\u0026gt;:/data log2timeline/plaso Converting Vhdx File to Raw Image log2timeline require raw image file. To convert vhdx to raw image we would need to install qemu:\nTo install qemu\nsudo apt install qemu-utils Converting vhdx to raw:\nqemu-img convert -O raw 2021-02-02T073114_win10.vhdx win10_demo.raw Creating Plaso Dump file log2timeline.py plaso.dump win10_demo.raw Plaso Dump file information\npinfo.py plaso.dump Convert plaso file into CSV To list out all time zone\npsort.py --output-time-zone list Set time zone\npsort.py -o l2tcsv -w timeline.csv --output-time-zone Asia/Kolkata plaso.dump Using date filter\npsort.py -o l2tcsv -w timeline.csv --output-time-zone Asia/Kolkata plaso.dump \u0026#34;date \u0026gt; \u0026#39;2021-01-01\u0026#39; AND date \u0026lt; \u0026#39;2021-01-05\u0026#39;\u0026#34; Reference  Plaso documentation Richard Davis  ","permalink":"https://js-sarkar.github.io/posts/dfir/log2timeline/","summary":"Steps to install log2timeline in Windows using WSL. Helpfull in disk forensic and timeline analysis.","title":"Log2timeline using WSL"}]